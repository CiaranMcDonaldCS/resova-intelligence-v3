# V2 Development Plan - Assistant-Focused Version

**Target Launch:** Next Month
**Branch:** `feature/v2-assistant-only`
**Goal:** Streamlined AI assistant experience with enhanced API integration

---

## Overview

V2 simplifies the application to focus exclusively on the AI assistant experience. We're removing dashboard tabs and analytics visualizations to create a cleaner, more focused product.

### What's Changing

**Keep:**
- ‚úÖ Landing page
- ‚úÖ Login screen
- ‚úÖ AI Assistant (enhanced)

**Remove:**
- ‚ùå Dashboard tabs (Overview, Activities, Customers)
- ‚ùå Analytics cards
- ‚ùå Revenue charts
- ‚ùå Activity profitability views
- ‚ùå Customer intelligence views
- ‚ùå Standalone chart components

**Enhance:**
- üîÑ AI Assistant capabilities
- üîÑ New API integrations
- üîÑ Code optimization & cleanup

---

## Components Analysis

### Keep These Components
- `Landing.tsx` - Entry point, Resova branding
- `LoginScreen.tsx` - User authentication
- `AiAssistant.tsx` - Core AI chat interface
- `MarkdownRenderer.tsx` - Format AI responses
- `DynamicChart.tsx` - AI-generated charts

### Remove These Components
- `Dashboard.tsx` - Tab-based dashboard UI
- `AnalyticsCards.tsx` - Summary cards
- `RevenueChart.tsx` - Static revenue visualization
- `Charts.tsx` - Static chart displays
- `ActivityProfitability.tsx` - Activity analysis view
- `CustomerIntelligence.tsx` - Customer segmentation view

**Lines of Code Reduction:** ~2,000 lines removed

---

## Architecture Changes

### Current V1 Flow
```
Landing ‚Üí Login ‚Üí Dashboard (Tabs) ‚Üí [Overview | Activities | Customers]
                              ‚Üì
                         AI Assistant (sidebar)
```

### New V2 Flow
```
Landing ‚Üí Login ‚Üí AI Assistant (full screen)
                  ‚Üì
              Chat Interface
              Dynamic Charts (generated by AI)
```

---

## New API Integration Plan

### Current APIs (V1)
1. **Resova Reporting API** (7 endpoints)
   - Transactions
   - Itemized revenue
   - Bookings (historical + future)
   - Payments
   - Inventory items

2. **Resova Core API** (3 endpoints)
   - Customers
   - Gift vouchers
   - Abandoned carts

### Proposed New APIs for V2

**What new APIs do you want to integrate?**
- [ ] Additional Resova endpoints?
- [ ] Third-party integrations (Stripe, Mailchimp, etc.)?
- [ ] Other booking/analytics platforms?

*To be defined based on requirements*

---

## Code Cleanup Strategy

### 1. Remove Unused Components (~2,000 lines)
```bash
# Components to delete
app/components/Dashboard.tsx
app/components/AnalyticsCards.tsx
app/components/RevenueChart.tsx
app/components/Charts.tsx
app/components/ActivityProfitability.tsx
app/components/CustomerIntelligence.tsx
```

### 2. Simplify Services
- Remove unused data transformation logic
- Streamline analytics service to focus on AI context
- Optimize API calls (only fetch what AI needs)

### 3. Clean Up Types
- Remove dashboard-specific types
- Keep only AI assistant types
- Simplify data structures

### 4. Update Context
- Simplify AppContext (no dashboard state)
- Remove tab navigation state
- Keep only login + AI assistant state

### 5. Optimize Dependencies
```bash
# May be able to remove after cleanup
recharts (if no more charts needed)
```

---

## Implementation Plan

### Phase 1: Preparation (Day 1)
- [x] Create feature branch `feature/v2-assistant-only`
- [ ] Document V2 plan (this file)
- [ ] Get new API requirements from stakeholders
- [ ] Review current analytics service usage

### Phase 2: Component Removal (Day 2-3)
- [ ] Remove dashboard components
- [ ] Update main page.tsx to show assistant directly
- [ ] Remove unused imports
- [ ] Test build after each removal

### Phase 3: Code Cleanup (Day 4-5)
- [ ] Simplify analytics service
- [ ] Clean up types and interfaces
- [ ] Remove unused context state
- [ ] Optimize data fetching

### Phase 4: New API Integration (Day 6-8)
- [ ] Define new API requirements
- [ ] Implement new service methods
- [ ] Update AI assistant context building
- [ ] Test new data flows

### Phase 5: Testing & Optimization (Day 9-10)
- [ ] Full regression testing
- [ ] Performance optimization
- [ ] Build size reduction verification
- [ ] Production build test

### Phase 6: Documentation & Deploy (Day 11-12)
- [ ] Update README for V2
- [ ] Update DEPLOYMENT.md
- [ ] Create migration guide (V1 ‚Üí V2)
- [ ] Deploy to staging
- [ ] Final testing
- [ ] Deploy to production

---

## Expected Improvements

### Code Quality
- **Lines of Code:** -40% (remove ~2,000 lines)
- **Bundle Size:** -30% (remove unused chart libraries)
- **Build Time:** -20% (fewer components to compile)

### Performance
- **Initial Load:** Faster (no dashboard to render)
- **Time to Interactive:** Improved (simpler UI)
- **API Calls:** Optimized (only fetch what AI needs)

### User Experience
- **Focused:** Single-purpose interface
- **Simpler:** No tab navigation
- **Faster:** Direct access to AI assistant
- **Cleaner:** Minimal UI distractions

### Maintenance
- **Easier to maintain:** Less code
- **Easier to test:** Fewer components
- **Easier to enhance:** Focused scope

---

## Migration Strategy

### V1 (Current - Preserved)
- Branch: `main` and `develop`
- Status: Production-ready, feature-complete
- Use case: Full analytics dashboard + AI assistant

### V2 (New - In Development)
- Branch: `feature/v2-assistant-only`
- Status: Development
- Use case: Streamlined AI assistant only

### Deployment Options

**Option A: Replace V1 with V2**
- Merge V2 to develop ‚Üí main
- V1 archived as `v1-archive` tag
- Single product moving forward

**Option B: Run Both Versions**
- V1: `app.resova-analytics.com`
- V2: `assistant.resova-analytics.com`
- Different products for different users

**Option C: Feature Flag**
- Single codebase with feature flag
- Users choose experience (toggle)
- More complex to maintain

**Recommendation:** Option A (replace) - simpler, cleaner

---

## Risk Assessment

### Low Risk
‚úÖ Component removal (isolated, well-defined)
‚úÖ Code cleanup (no logic changes)
‚úÖ UI simplification (less complexity)

### Medium Risk
‚ö†Ô∏è New API integration (depends on API stability)
‚ö†Ô∏è Context changes (may affect state management)

### Mitigation
- Thorough testing at each phase
- Keep V1 branch as backup
- Staged rollout (staging ‚Üí production)
- Monitor error rates post-launch

---

## Questions to Answer

Before proceeding with implementation:

1. **New APIs:** What specific new APIs do you want to integrate?
   - More Resova endpoints?
   - Third-party services (Stripe, Mailchimp, QuickBooks)?
   - Custom internal APIs?

2. **AI Capabilities:** Any new AI features needed?
   - Report generation/export?
   - Scheduled insights?
   - Email summaries?

3. **UI Changes:** Any assistant UI enhancements?
   - Voice input?
   - Dark mode?
   - Mobile optimization?

4. **Data Requirements:** What data should the AI have access to?
   - Keep all current Resova data?
   - Add new data sources?
   - Remove any data sources?

---

## Timeline (12-Day Sprint)

```
Week 1:
‚îú‚îÄ‚îÄ Day 1-2:  Planning, component removal
‚îú‚îÄ‚îÄ Day 3-4:  Code cleanup, optimization
‚îî‚îÄ‚îÄ Day 5:    New API integration (if defined)

Week 2:
‚îú‚îÄ‚îÄ Day 6-7:  Complete new APIs, testing
‚îú‚îÄ‚îÄ Day 8-9:  Performance optimization, bug fixes
‚îú‚îÄ‚îÄ Day 10:   Documentation updates
‚îî‚îÄ‚îÄ Day 11-12: Staging deploy, final testing, production deploy
```

**Target Completion:** 2 weeks from start
**Buffer:** 1-2 weeks for customer launch prep

---

## Success Criteria

V2 is ready for customer launch when:

- [ ] All dashboard components removed
- [ ] AI assistant works standalone
- [ ] New APIs integrated (if applicable)
- [ ] Code cleaned up and optimized
- [ ] Build size reduced by 30%+
- [ ] Production build succeeds
- [ ] All tests pass
- [ ] Documentation updated
- [ ] Deployed to staging
- [ ] Customer acceptance testing passed

---

## Next Steps

**Ready to start?** Let's begin with:

1. **Define new API requirements** - What APIs do you want to add?
2. **Start component removal** - Remove dashboard components
3. **Simplify the UI** - Direct login ‚Üí AI assistant flow

Which would you like to tackle first?
